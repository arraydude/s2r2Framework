function timeAgo(){function e(e){var t=e.data("timeago");return moment(t).fromNow()}$("[data-timeago]").each(function(t,n){$(n).html(e($(n)))})}function has_privilege(e){function i(e,t){var n=[],r,i=0;for(r in e)n[i++]=e[r];return n.join(t)}var t=location.toString().split("?")[0].split("/"),n=[];n.module=t[3],n.controller=t[4],n.action=t[5];var r=new Array("module","controller","action"),e=e.split("_");return keys=r.slice(3-e.length),e=array_combine(keys,e),e=$.extend(n,e),e=i(e,"_").toLowerCase(),$.inArray(e,FWK.userLogged.perms)!==-1?!0:!1}function array_combine(e,t){var n=[],r=e&&e.length,i=0;if(typeof e!="object"||typeof t!="object"||typeof r!="number"||typeof t.length!="number"||!r)return!1;if(r!=t.length)return!1;for(i=0;i<r;i++)n[e[i]]=t[i];return n}function gravatarUrl(e){e===null&&(e="");var t=md5(e.toLowerCase().trim());return FWK.configs.framework.gravatar.replace("%s",t)}function getProfilePhoto(e,t,n){n=typeof n=="undefined"?"35":n;if(null===e){var r=md5(t.toLowerCase().trim());photoUrl=FWK.configs.framework.gravatar.replace("%s",r)+"?s="+n}else photoUrl=e+"?sz="+n;return photoUrl}FWK.generateRoute=function(e){if(e.match("^https?://"))return e;var t=e.split("/"),n=FWK.configs.framework.base_url+"/app/Modules/"+t[0].replace("@","")+"/Public/";return n+=e.replace(t[0]+"/",""),n},FWK.loadScript=function(e,t){return t=t||function(){},$.getScript(FWK.generateRoute(e),t)},FWK.loadDependencies=function(e){var t=FWK;t.payload=e,$.ajaxSetup({cache:!0});var n=null;return $.each(t.payload.dependencies,function(e,t){n=$.when(FWK.loadScript(t))}),n.then(function(){typeof t.payload.callbacks!="undefined"&&$.each(t.payload.callbacks,function(e,t){$.when(FWK.loadScript(e)).then(t())})}),n},$(function(e){e("#sidebar-nav .dropdown-toggle").click(function(t){t.preventDefault();var n=e(this).parent();n.hasClass("open")||(n.parent().find(".open .submenu").slideUp("fast"),n.parent().find(".open").toggleClass("open")),n.toggleClass("open"),n.hasClass("open")?n.children(".submenu").slideDown("fast"):n.children(".submenu").slideUp("fast")}),e(".mobile-search").click(function(t){t.preventDefault(),e(".mobile-search").addClass("active"),e(".mobile-search form input.form-control").focus()}),e(document).mouseup(function(t){var n=e(".mobile-search");!n.is(t.target)&&n.has(t.target).length===0&&n.removeClass("active")}),e("[data-toggle='tooltip']").tooltip(),timeAgo(),setInterval(function(){timeAgo()},5e4)}),function(e,t){var n=function(e,t,n){var r;return function(){function u(){n||e.apply(s,o),r=null}var s=this,o=arguments;r?clearTimeout(r):n&&e.apply(s,o),r=setTimeout(u,t||100)}};jQuery.fn[t]=function(e){return e?this.bind("resize",n(e)):this.trigger(t)}}(jQuery,"smartresize");